---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);
---
<BaseLayout title="Blog â€” Michael Colenso" description="Writing by Michael Colenso.">
  <div class="page-content">
    <h1 class="page-title">Words</h1>
    <p class="page-subtitle">things i have written</p>

    <ul class="post-list">
      {posts.map((post) => (
        <li class="post-list-item">
          <a href={`/blog/${post.slug}`}>{post.data.title}</a>
          <span class="post-list-date">
            {post.data.date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
          </span>
        </li>
      ))}
    </ul>
  </div>
</BaseLayout>
